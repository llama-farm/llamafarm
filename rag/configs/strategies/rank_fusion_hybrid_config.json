{
  "parser": {
    "type": "CustomerSupportCSVParser",
    "config": {
      "content_fields": ["subject", "body", "answer"],
      "metadata_fields": ["type", "priority", "language", "tags"],
      "id_field": "id",
      "combine_content": true,
      "content_separator": "\n\n"
    }
  },
  "embedder": {
    "type": "OllamaEmbedder",
    "config": {
      "model": "nomic-embed-text",
      "base_url": "http://localhost:11434",
      "batch_size": 16,
      "timeout": 60
    }
  },
  "vector_store": {
    "type": "ChromaStore",
    "config": {
      "collection_name": "rank_fusion_support",
      "persist_directory": "./data/rank_fusion_chroma_db"
    }
  },
  "retrieval_strategy": {
    "type": "HybridUniversalStrategy",
    "config": {
      "combination_method": "rank_fusion",
      "normalize_scores": true,
      "diversity_boost": 0.2,
      "strategies": [
        {
          "type": "BasicSimilarityStrategy",
          "weight": 1.0,
          "config": {
            "distance_metric": "cosine"
          }
        },
        {
          "type": "MultiQueryStrategy",
          "weight": 0.8,
          "config": {
            "num_queries": 3,
            "aggregation_method": "max",
            "distance_metric": "cosine"
          }
        },
        {
          "type": "MetadataFilteredStrategy",
          "weight": 0.6,
          "config": {
            "distance_metric": "cosine",
            "default_filters": {},
            "fallback_multiplier": 2
          }
        }
      ]
    }
  }
}