{
  "version": "2.0",
  "description": "Unified configuration supporting multiple file types and strategies",
  
  "parsers": {
    "csv": {
      "type": "CustomerSupportCSVParser",
      "config": {
        "content_fields": ["subject", "body", "answer"],
        "metadata_fields": ["type", "priority", "language", "tags"],
        "id_field": "id",
        "combine_content": true,
        "content_separator": "\n\n",
        "chunk_metadata": {
          "generate_summary": true,
          "extract_keywords": true,
          "include_statistics": true,
          "custom_fields": {
            "ticket_category": "auto_classify",
            "sentiment": "auto_analyze",
            "urgency_score": "calculate"
          }
        }
      },
      "file_extensions": [".csv"],
      "mime_types": ["text/csv", "application/csv"]
    },
    "pdf": {
      "type": "PDFParser",
      "config": {
        "extract_metadata": true,
        "extract_page_structure": true,
        "combine_pages": true,
        "page_separator": "\n\n--- Page Break ---\n\n",
        "min_text_length": 10,
        "include_page_numbers": true,
        "extract_outline": true,
        "chunk_metadata": {
          "generate_summary": true,
          "extract_keywords": true,
          "include_statistics": true,
          "page_info": {
            "include_page_range": true,
            "include_page_count": true,
            "track_section_headers": true
          },
          "content_analysis": {
            "detect_language": true,
            "estimate_reading_time": true,
            "extract_key_phrases": true,
            "identify_document_type": true
          },
          "custom_fields": {
            "document_section": "auto_detect",
            "content_type": "classify",
            "importance_score": "calculate"
          }
        }
      },
      "file_extensions": [".pdf"],
      "mime_types": ["application/pdf"]
    },
    "pdf_chunked": {
      "type": "PDFParser",
      "config": {
        "extract_metadata": true,
        "extract_page_structure": true,
        "combine_pages": false,
        "min_text_length": 20,
        "include_page_numbers": true,
        "chunk_metadata": {
          "generate_summary": true,
          "extract_keywords": true,
          "include_statistics": true,
          "page_info": {
            "include_page_range": false,
            "include_page_count": true,
            "track_section_headers": true,
            "chunk_position": "relative"
          },
          "content_analysis": {
            "detect_language": true,
            "estimate_reading_time": true,
            "chunk_coherence_score": true
          },
          "relationships": {
            "link_to_previous_chunk": true,
            "link_to_next_chunk": true,
            "reference_parent_document": true
          }
        }
      },
      "file_extensions": [".pdf"],
      "mime_types": ["application/pdf"],
      "priority": 2
    },
    "text": {
      "type": "TextParser",
      "config": {
        "chunk_size": 1000,
        "chunk_overlap": 200,
        "preserve_paragraphs": true,
        "chunk_metadata": {
          "generate_summary": true,
          "extract_keywords": true,
          "include_statistics": true,
          "content_analysis": {
            "detect_language": true,
            "estimate_reading_time": true,
            "extract_entities": true,
            "topic_modeling": true
          },
          "custom_fields": {
            "text_complexity": "calculate",
            "topic_coherence": "measure"
          }
        }
      },
      "file_extensions": [".txt", ".md"],
      "mime_types": ["text/plain", "text/markdown"]
    }
  },
  
  "embedders": {
    "default": {
      "type": "OllamaEmbedder",
      "config": {
        "model": "nomic-embed-text",
        "base_url": "http://localhost:11434",
        "batch_size": 16,
        "timeout": 60
      }
    },
    "fast": {
      "type": "OllamaEmbedder",
      "config": {
        "model": "nomic-embed-text",
        "base_url": "http://localhost:11434",
        "batch_size": 32,
        "timeout": 30
      }
    },
    "accurate": {
      "type": "OllamaEmbedder",
      "config": {
        "model": "nomic-embed-text",
        "base_url": "http://localhost:11434",
        "batch_size": 8,
        "timeout": 120
      }
    }
  },
  
  "vector_stores": {
    "default": {
      "type": "ChromaStore",
      "config": {
        "collection_name": "unified_documents",
        "persist_directory": "./data/unified_chroma_db",
        "metadata_config": {
          "enable_versioning": true,
          "enable_soft_delete": true,
          "hash_algorithm": "sha256",
          "retention_policy": {
            "default_ttl_days": 365,
            "max_versions": 10,
            "cleanup_schedule": "daily"
          },
          "required_metadata": [
            "doc_id", "chunk_id", "filename", "file_hash", 
            "chunk_hash", "created_at", "updated_at", "version"
          ],
          "indexed_metadata": [
            "doc_id", "filename", "created_at", "version", "is_active"
          ]
        }
      }
    },
    "dev": {
      "type": "ChromaStore",
      "config": {
        "collection_name": "dev_documents",
        "persist_directory": "./data/dev_chroma_db",
        "metadata_config": {
          "enable_versioning": false,
          "enable_soft_delete": false,
          "hash_algorithm": "md5",
          "retention_policy": {
            "default_ttl_days": 30,
            "max_versions": 3,
            "cleanup_schedule": "weekly"
          }
        }
      }
    },
    "production": {
      "type": "ChromaStore",
      "config": {
        "collection_name": "production_documents",
        "persist_directory": "./data/production_chroma_db",
        "metadata_config": {
          "enable_versioning": true,
          "enable_soft_delete": true,
          "hash_algorithm": "sha256",
          "retention_policy": {
            "default_ttl_days": 2555,
            "max_versions": 50,
            "cleanup_schedule": "weekly",
            "archive_before_delete": true,
            "archive_location": "./data/archives/"
          },
          "required_metadata": [
            "doc_id", "chunk_id", "filename", "file_hash", "chunk_hash", 
            "created_at", "updated_at", "version", "is_active", "source_system",
            "access_level", "department", "retention_category"
          ],
          "indexed_metadata": [
            "doc_id", "filename", "created_at", "updated_at", "version", 
            "is_active", "source_system", "access_level", "department"
          ],
          "audit_config": {
            "enable_audit_log": true,
            "audit_retention_days": 2555,
            "track_access": true,
            "track_modifications": true
          }
        }
      }
    }
  },
  
  "retrieval_strategies": {
    "default": {
      "type": "BasicSimilarityStrategy",
      "config": {
        "distance_metric": "cosine"
      },
      "description": "Fast baseline search"
    },
    "filtered": {
      "type": "MetadataFilteredStrategy",
      "config": {
        "distance_metric": "cosine",
        "default_filters": {},
        "fallback_multiplier": 3
      },
      "description": "Search with metadata filtering"
    },
    "multi": {
      "type": "MultiQueryStrategy",
      "config": {
        "num_queries": 3,
        "aggregation_method": "weighted",
        "search_multiplier": 2
      },
      "description": "Enhanced recall with query variations"
    },
    "reranked": {
      "type": "RerankedStrategy",
      "config": {
        "initial_k": 20,
        "rerank_factors": {
          "recency": 0.1,
          "length": 0.05,
          "metadata_boost": 0.2
        }
      },
      "description": "Sophisticated multi-factor ranking"
    },
    "hybrid-balanced": {
      "type": "HybridUniversalStrategy",
      "config": {
        "combination_method": "weighted_average",
        "strategies": [
          {"type": "BasicSimilarityStrategy", "weight": 0.4},
          {"type": "MetadataFilteredStrategy", "weight": 0.3},
          {"type": "MultiQueryStrategy", "weight": 0.3}
        ]
      },
      "description": "Balanced hybrid approach"
    },
    "hybrid-precision": {
      "type": "HybridUniversalStrategy",
      "config": {
        "combination_method": "weighted_average",
        "strategies": [
          {"type": "RerankedStrategy", "weight": 0.5},
          {"type": "MetadataFilteredStrategy", "weight": 0.3},
          {"type": "BasicSimilarityStrategy", "weight": 0.2}
        ]
      },
      "description": "High precision hybrid"
    },
    "hybrid-recall": {
      "type": "HybridUniversalStrategy",
      "config": {
        "combination_method": "rank_fusion",
        "strategies": [
          {"type": "MultiQueryStrategy", "weight": 0.5},
          {"type": "BasicSimilarityStrategy", "weight": 0.3},
          {"type": "MetadataFilteredStrategy", "weight": 0.2}
        ]
      },
      "description": "High recall hybrid"
    }
  },
  
  "defaults": {
    "parser": "auto",
    "embedder": "default",
    "vector_store": "default",
    "retrieval_strategy": "default"
  }
}