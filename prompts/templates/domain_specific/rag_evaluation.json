{
  "template_id": "rag_evaluation",
  "name": "RAG System Evaluation",
  "type": "domain_specific",
  "template": "# RAG System Evaluation\n\n## Query\n{{ query }}\n\n## Retrieved Documents\n{{ retrieved_docs | format_documents }}\n\n## Generated Response\n{{ generated_response }}\n\n## Ground Truth (if available)\n{{ ground_truth }}\n\nüîç **RAG SYSTEM EVALUATION**\n\nüìö **Retrieval Quality Assessment**\n‚Ä¢ **Relevance**: Are the retrieved documents relevant to the query?\n‚Ä¢ **Coverage**: Do the documents contain information needed to answer the query?\n‚Ä¢ **Diversity**: Do the documents provide diverse perspectives or complementary information?\n‚Ä¢ **Ranking**: Are the most relevant documents ranked highest?\n\nüéØ **Answer Quality Assessment**\n‚Ä¢ **Accuracy**: Is the generated response factually correct?\n‚Ä¢ **Completeness**: Does the response fully address the query?\n‚Ä¢ **Coherence**: Is the response well-structured and coherent?\n‚Ä¢ **Citation**: Does the response appropriately reference the source documents?\n\nüîó **Retrieval-Generation Alignment**\n‚Ä¢ **Grounding**: Is the response properly grounded in the retrieved documents?\n‚Ä¢ **Hallucination Check**: Does the response contain information not present in the retrieved docs?\n‚Ä¢ **Consistency**: Is the response consistent with the retrieved information?\n‚Ä¢ **Source Attribution**: Are claims properly attributed to sources?\n\nüìä **Scoring Matrix**\n\n**Retrieval Metrics:**\n‚Ä¢ Relevance: [Score 1-5] - [Justification]\n‚Ä¢ Coverage: [Score 1-5] - [Justification]\n‚Ä¢ Diversity: [Score 1-5] - [Justification]\n‚Ä¢ Ranking Quality: [Score 1-5] - [Justification]\n\n**Generation Metrics:**\n‚Ä¢ Accuracy: [Score 1-5] - [Justification]\n‚Ä¢ Completeness: [Score 1-5] - [Justification]\n‚Ä¢ Coherence: [Score 1-5] - [Justification]\n‚Ä¢ Citation Quality: [Score 1-5] - [Justification]\n\n**Alignment Metrics:**\n‚Ä¢ Grounding: [Score 1-5] - [Justification]\n‚Ä¢ Hallucination: [Score 1-5] - [Lower = more hallucination]\n‚Ä¢ Consistency: [Score 1-5] - [Justification]\n\n**Overall RAG Score**: [Total]/55\n**Grade**: [Excellent/Good/Fair/Poor]\n\n‚ö†Ô∏è **Key Issues Identified**\n‚Ä¢ [List major problems or concerns]\n\n‚úÖ **Strengths**\n‚Ä¢ [List what worked well]\n\nüîß **Recommendations**\n‚Ä¢ [Specific suggestions for improvement]",
  "input_variables": ["query", "retrieved_docs", "generated_response"],
  "optional_variables": ["ground_truth"],
  "metadata": {
    "use_case": "rag_evaluation",
    "complexity": "high",
    "domain": "evaluation",
    "description": "Comprehensive evaluation template for RAG system performance",
    "tags": ["rag", "evaluation", "retrieval", "generation", "quality_assessment"],
    "author": "LlamaFarm Team",
    "examples": [
      {
        "description": "Evaluating RAG response quality",
        "input": {
          "query": "What are the benefits of renewable energy?",
          "retrieved_docs": [
            {
              "title": "Solar Energy Benefits",
              "content": "Solar energy reduces carbon emissions and provides long-term cost savings."
            },
            {
              "title": "Wind Power Advantages", 
              "content": "Wind power is sustainable and creates jobs in rural communities."
            }
          ],
          "generated_response": "Renewable energy offers multiple benefits including reduced carbon emissions from solar power, long-term cost savings, job creation in rural areas through wind power, and overall sustainability.",
          "ground_truth": "Benefits include environmental protection, economic advantages, and energy independence."
        },
        "expected_output": "**Retrieval Quality**: 4/5 - Documents are relevant and provide good coverage\n**Generation Quality**: 4/5 - Response is accurate and well-grounded\n**Overall RAG Score**: 44/55"
      }
    ]
  },
  "validation_rules": {
    "query": {
      "type": "str",
      "min_length": 5,
      "max_length": 1000,
      "required": true
    },
    "retrieved_docs": {
      "type": "list",
      "required": true
    },
    "generated_response": {
      "type": "str",
      "min_length": 10,
      "max_length": 5000,
      "required": true
    },
    "ground_truth": {
      "type": "str",
      "required": false
    }
  }
}